<!-- =============================================================================
     TEMPLATE: LISTA DE TAREAS
     =============================================================================
     Esta página muestra todas las tareas guardadas en las cookies del navegador
     
     CONCEPTOS CLAVE:
     - {% extends %}: Hereda la estructura del template layout.html
     - {% block %}: Define el contenido específico de esta página
     - {% if %}/{% else %}: Estructuras condicionales de Jinja2
     - {% for %}: Bucle para iterar sobre una lista
     - {{ variable }}: Muestra el valor de una variable
     - loop.index0: Variable especial que contiene el índice del bucle (empieza en 0)
     ============================================================================= -->
<!-- Heredamos la estructura del template layout.html -->
{% extends "layout.html" %}
<!-- Definimos el título de esta página -->
{% block title %}Tareas{% endblock %}
<!-- Definimos el contenido específico de esta página -->
{% block content %}
<div class="container mt-4">
  <!-- Título de la página -->
  <h1>Tareas</h1>
  <!-- Descripción -->
  <p>Estas son las tareas que tienes que hacer:</p>
  <!-- Botón para crear nueva tarea -->
  <!-- class="btn btn-primary" = Estilo de botón azul de Bootstrap -->
  <!-- mb-3 = Margen inferior (margin-bottom) -->
  <!-- title="..." = Texto que aparece al pasar el mouse sobre el botón -->
  <a href="/nueva-tarea" class="btn btn-primary mb-3" title="Crear Nueva Tarea">Nueva Tarea</a>
  <!-- CONDICIONAL: Verificamos si hay tareas para mostrar -->
  {% if tareas %}
  <!-- Si hay tareas, las mostramos en una lista -->
  <!-- list-group = Clase de Bootstrap para crear listas estilizadas -->
  <div class="list-group">
    <!-- BUCLE: Iteramos sobre cada tarea en la lista -->
    {% for tarea in tareas %}
    <!-- list-group-item = Cada elemento de la lista -->
    <!-- d-flex justify-content-between = Flexbox para alinear elementos -->
    <!-- align-items-center = Centra verticalmente los elementos -->
    <div class="list-group-item d-flex justify-content-between align-items-center">
      <!-- Mostramos el nombre de la tarea -->
      <span>{{ tarea }}</span>
      <!-- Grupo de botones para cada tarea -->
      <!-- btn-group = Agrupa botones horizontalmente -->
      <!-- role="group" = Accesibilidad para lectores de pantalla -->
      <div class="btn-group" role="group">
        <!-- Botón Editar -->
        <!-- btn-sm = Botón pequeño -->
        <!-- btn-outline-primary = Botón con borde azul -->
        <!-- {{ loop.index0 }} = Índice de la tarea actual (empieza en 0) -->
        <a href="/editar-tarea/{{ loop.index0 }}" class="btn btn-sm btn-outline-primary">Editar</a>
        <!-- Botón Eliminar -->
        <!-- btn-outline-danger = Botón con borde rojo -->
        <!-- onclick="..." = JavaScript que pide confirmación antes de eliminar -->
        <a href="/eliminar-tarea/{{ loop.index0 }}" class="btn btn-sm btn-outline-danger" onclick="return confirm('¿Estás seguro de que quieres eliminar esta tarea?')">Eliminar</a>
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <!-- Si no hay tareas, mostramos un mensaje -->
  <!-- alert alert-warning = Alerta amarilla de Bootstrap -->
  <div class="alert alert-warning">
    No hay tareas pendientes. ¡Agrega una nueva tarea!
  </div>
  {% endif %}
</div>
{% endblock %}